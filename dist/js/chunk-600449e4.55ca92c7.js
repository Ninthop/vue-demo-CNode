(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-600449e4"],{"02f4":function(t,e,s){var n=s("4588"),a=s("be13");t.exports=function(t){return function(e,s){var i,r,c=String(a(e)),o=n(s),l=c.length;return o<0||o>=l?t?"":void 0:(i=c.charCodeAt(o),i<55296||i>56319||o+1===l||(r=c.charCodeAt(o+1))<56320||r>57343?t?c.charAt(o):i:t?c.slice(o,o+2):r-56320+(i-55296<<10)+65536)}}},"0390":function(t,e,s){"use strict";var n=s("02f4")(!0);t.exports=function(t,e,s){return e+(s?n(t,e).length:1)}},"0bfb":function(t,e,s){"use strict";var n=s("cb7c");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"214f":function(t,e,s){"use strict";s("b0c5");var n=s("2aba"),a=s("32e9"),i=s("79e5"),r=s("be13"),c=s("2b4c"),o=s("520a"),l=c("species"),u=!i(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),p=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var s="ab".split(t);return 2===s.length&&"a"===s[0]&&"b"===s[1]}();t.exports=function(t,e,s){var h=c(t),f=!i(function(){var e={};return e[h]=function(){return 7},7!=""[t](e)}),d=f?!i(function(){var e=!1,s=/a/;return s.exec=function(){return e=!0,null},"split"===t&&(s.constructor={},s.constructor[l]=function(){return s}),s[h](""),!e}):void 0;if(!f||!d||"replace"===t&&!u||"split"===t&&!p){var v=/./[h],g=s(r,h,""[t],function(t,e,s,n,a){return e.exec===o?f&&!a?{done:!0,value:v.call(e,s,n)}:{done:!0,value:t.call(s,e,n)}:{done:!1}}),_=g[0],m=g[1];n(String.prototype,t,_),a(RegExp.prototype,h,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}}},"23c7":function(t,e,s){"use strict";var n=s("7b82"),a=s.n(n);a.a},"297f":function(t,e,s){"use strict";var n=s("6465"),a=s.n(n);a.a},"2b94":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-panel"},[s("div",{staticClass:"panel-head"},[t._v("作者")]),s("div",{staticClass:"divider"}),s("div",{staticClass:"panel-content"},[s("div",{staticClass:"panel-userInfo"},[s("img",{attrs:{src:t.userInfo.avatar_url,alt:""}}),s("a",{staticClass:"name",on:{click:function(e){return t.changeUser(t.userInfo.loginname)}}},[t._v(t._s(this.$store.state.loginname))])]),s("div",{staticClass:"panel-score"},[t._v("积分："+t._s(t.userInfo.score))]),t.userInfo.githubUsername?s("div",{staticClass:"panel-github"},[t._v("\n            Github："),s("a",{attrs:{href:t.github,target:"_blank"}},[t._v(t._s(t.userInfo.githubUsername))])]):t._e(),s("div",{staticClass:"panel-time"},[t._v("创建于："+t._s(t._f("formatTime")(t.userInfo.create_at)))])])])},a=[],i=(s("2f62"),{name:"TopicUserPanel",props:{userInfo:Object},methods:{changeUser:function(t){this.$store.dispatch("changeName",t),this.$store.dispatch("changeCss",!0),this.$router.push({path:"/user/"+t})}},computed:{github:function(){return"https://github.com/".concat(this.userInfo.githubUsername)}}}),r=i,c=(s("23c7"),s("2877")),o=Object(c["a"])(r,n,a,!1,null,"e1e419e8",null);e["a"]=o.exports},3213:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"topic"},[s("div",{staticClass:"topic-left"},[s("topic-header",{attrs:{list:t.list}}),s("topic-content",{attrs:{list:t.list}}),s("topic-reply",{attrs:{list:t.list}})],1),s("div",{staticClass:"topic-right"},[s("topic-user-panel",{staticClass:"topic-right-content",attrs:{userInfo:t.userInfo}}),s("topic-other-topic",{staticClass:"topic-right-content",attrs:{userInfo:t.userInfo}}),s("topic-recent-reply",{staticClass:"topic-right-content",attrs:{userInfo:t.userInfo}})],1)])},a=[],i=(s("4917"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"topic-header"},[s("div",{staticClass:"title"},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.list.top,expression:"list.top"}],staticClass:"title-tab"},[t._v("置顶")]),s("span",{staticClass:"title-name"},[t._v(t._s(t.list.title))])]),s("div",{staticClass:"header-info"},[s("ul",[s("li",[s("span",[t._v("发布于 "+t._s(t._f("formatTime")(t.list.create_at)))])]),s("li",[s("span",[t._v("作者 "),s("span",{staticClass:"author",on:{click:function(e){return t.changeUser(t.list.author.loginname)}}},[t._v(t._s(this.$store.state.loginname))])])]),s("li",[s("span",[t._v(t._s(t.list.visit_count)+"次浏览")])]),s("li",[s("span",[t._v("来自 "+t._s(t.$tab[t.list.tab]))])])])])])}),r=[],c=(s("2f62"),{name:"TopicHeader",props:{list:Object},methods:{changeUser:function(t){this.$store.dispatch("changeName",t),this.$store.dispatch("changeCss",!0),this.$router.push({path:"/user/"+t})}}}),o=c,l=(s("297f"),s("2877")),u=Object(l["a"])(o,i,r,!1,null,"05214b85",null),p=u.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"topic-content"},domProps:{innerHTML:t._s(t.list.content)}})])},f=[],d={name:"TopicContent",props:{list:Object}},v=d,g=Object(l["a"])(v,h,f,!1,null,null,null),_=g.exports,m=s("ca98"),b=s("9b3b"),C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return 0!=t.list.replies?n("div",{staticClass:"topic-reply"},[n("div",{staticClass:"reply-head"},[t._v(t._s(t.list.reply_count)+" 回复")]),n("p",{staticClass:"divider"}),t._l(t.list.replies,function(e,a){return n("div",{key:e.id,staticClass:"reply-content"},[n("div",{staticClass:"reply-content-top"},[n("img",{attrs:{src:e.author.avatar_url,title:e.author.loginname,alt:"回复者头像"}}),n("div",{staticClass:"info"},[n("a",{staticClass:"name",on:{click:function(s){return t.changeUser(e.author.loginname)}}},[t._v(t._s(e.author.loginname))]),n("span",{staticClass:"timeInfo"},[t._v(t._s(a+1)+"楼 • "+t._s(t._f("formatTime")(e.create_at)))]),0!=e.ups.length?n("span",{staticClass:"user-actions"},[n("img",{staticClass:"up-icon",attrs:{src:s("3db3"),alt:"点赞图标"}}),n("span",{staticClass:"up-num"},[t._v(t._s(e.ups.length))])]):t._e()])]),n("div",{attrs:{id:"reply-content-bottom"},domProps:{innerHTML:t._s(e.content)}}),n("p",{staticClass:"topic-divider"})])})],2):t._e()},x=[],$={name:"TopicReply",props:{list:Object},methods:{changeUser:function(t){this.$store.dispatch("changeName",t),this.$store.dispatch("changeCss",!0),this.$router.push({path:"/user/"+t})}}},I=$,O=(s("86ccc"),Object(l["a"])(I,C,x,!1,null,"6d34cd80",null)),y=O.exports,T=s("2b94"),U=s("2427"),j=s.n(U),w={name:"topic",components:{TopicHeader:p,TopicContent:_,TopicOtherTopic:m["a"],TopicRecentReply:b["a"],TopicReply:y,TopicUserPanel:T["a"]},data:function(){return{list:{},userInfo:{}}},mounted:function(){var t=this;j.a.get("https://cnodejs.org/api/v1/topic/".concat(this.$store.state.id)).then(function(e){t.list=e.data.data,console.log(t.list)}).catch(function(t){alert("连接失败，请刷新重试")}),j.a.get("https://cnodejs.org/api/v1/user/".concat(this.$store.state.loginname)).then(function(e){t.userInfo=e.data.data}).catch(function(t){alert("连接失败，请刷新重试")})},watch:{"$route.path":function(t,e){var s=this;t.match("topic")&&j.a.get("https://cnodejs.org/api/v1".concat(t)).then(function(t){s.list=t.data.data,s.$store.state.loginname=s.list.author.loginname}).catch(function(t){console.log("连接失败，请刷新重试")})},"$store.state.loginname":function(t,e){var s=this;j.a.get("https://cnodejs.org/api/v1/user/".concat(t)).then(function(t){s.userInfo=t.data.data}).catch(function(t){alert("连接失败，请刷新重试")})}}},E=w,k=(s("4d0f"),Object(l["a"])(E,n,a,!1,null,"65a4fbe0",null));e["default"]=k.exports},"3db3":function(t,e,s){t.exports=s.p+"img/点赞.8098ca7f.png"},4917:function(t,e,s){"use strict";var n=s("cb7c"),a=s("9def"),i=s("0390"),r=s("5f1b");s("214f")("match",1,function(t,e,s,c){return[function(s){var n=t(this),a=void 0==s?void 0:s[e];return void 0!==a?a.call(s,n):new RegExp(s)[e](String(n))},function(t){var e=c(s,t,this);if(e.done)return e.value;var o=n(t),l=String(this);if(!o.global)return r(o,l);var u=o.unicode;o.lastIndex=0;var p,h=[],f=0;while(null!==(p=r(o,l))){var d=String(p[0]);h[f]=d,""===d&&(o.lastIndex=i(l,a(o.lastIndex),u)),f++}return 0===f?null:h}]})},"4d0f":function(t,e,s){"use strict";var n=s("5656"),a=s.n(n);a.a},"520a":function(t,e,s){"use strict";var n=s("0bfb"),a=RegExp.prototype.exec,i=String.prototype.replace,r=a,c="lastIndex",o=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t[c]||0!==e[c]}(),l=void 0!==/()??/.exec("")[1],u=o||l;u&&(r=function(t){var e,s,r,u,p=this;return l&&(s=new RegExp("^"+p.source+"$(?!\\s)",n.call(p))),o&&(e=p[c]),r=a.call(p,t),o&&r&&(p[c]=p.global?r.index+r[0].length:e),l&&r&&r.length>1&&i.call(r[0],s,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(r[u]=void 0)}),r}),t.exports=r},"556c":function(t,e,s){"use strict";var n=s("6027"),a=s.n(n);a.a},5656:function(t,e,s){},"59da":function(t,e,s){},"5f1b":function(t,e,s){"use strict";var n=s("23c6"),a=RegExp.prototype.exec;t.exports=function(t,e){var s=t.exec;if("function"===typeof s){var i=s.call(t,e);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},6027:function(t,e,s){},6465:function(t,e,s){},"7b82":function(t,e,s){},"86ccc":function(t,e,s){"use strict";var n=s("a73d"),a=s.n(n);a.a},"9b3b":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recent"},[s("div",{staticClass:"recent-head"},[t._v("作者参与话题")]),s("div",{staticClass:"divider"}),s("div",{staticClass:"recent-content"},t._l(t.userInfo.recent_replies,function(e){return s("div",{key:e.id,staticClass:"recent-title",on:{click:function(s){return t.changeId(e.id,e.author.loginname)}}},[s("span",{staticClass:"other-title user-title"},[t.topicOrUser?s("img",{staticClass:"author-head",attrs:{src:e.author.avatar_url,alt:"头像"}}):t._e(),s("span",{staticClass:"title"},[t._v(t._s(e.title))]),t.topicOrUser?s("span",{staticClass:"user-right"},[s("span",[t._v(t._s(t._f("formatTime")(e.last_reply_at)))])]):t._e()]),t.topicOrUser?s("div",{staticClass:"divider-user"}):t._e()])}),0)])},a=[],i=(s("2f62"),{name:"TopicOtherTopic",props:{userInfo:Object},data:function(){return{topicOrUser:this.$store.state.topicOrUser}},methods:{changeId:function(t,e){this.$store.dispatch("changeId",t),this.$store.dispatch("changeName",e),this.$router.push({path:"/topic/"+t})}},watch:{"$store.state.topicOrUser":function(t,e){return t}}}),r=i,c=(s("a770"),s("2877")),o=Object(c["a"])(r,n,a,!1,null,"36c04559",null);e["a"]=o.exports},a73d:function(t,e,s){},a770:function(t,e,s){"use strict";var n=s("59da"),a=s.n(n);a.a},b0c5:function(t,e,s){"use strict";var n=s("520a");s("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},ca98:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"other"},[s("div",{staticClass:"other-head"},[t._v("作者其他话题")]),s("div",{staticClass:"divider"}),s("div",{staticClass:"other-content"},t._l(t.userInfo.recent_topics,function(e){return s("div",{key:e.id,staticClass:"other-title",on:{click:function(s){return t.changeId(e.id,e.author.loginname)}}},[s("span",{staticClass:"other-title user-title"},[t.topicOrUser?s("img",{staticClass:"author-head",attrs:{src:e.author.avatar_url,alt:"头像"}}):t._e(),s("span",{staticClass:"title"},[t._v(t._s(e.title))]),t.topicOrUser?s("span",{staticClass:"user-right"},[s("span",[t._v(t._s(t._f("formatTime")(e.last_reply_at)))])]):t._e()]),t.topicOrUser?s("div",{staticClass:"divider-user"}):t._e()])}),0)])},a=[],i=(s("2f62"),{name:"TopicOtherTopic",props:{userInfo:Object},data:function(){return{topicOrUser:this.$store.state.topicOrUser}},methods:{changeId:function(t,e){this.$store.dispatch("changeId",t),this.$store.dispatch("changeName",e),this.$router.push({path:"/topic/"+t}),this.$store.state.topicOrUser=!1}},watch:{"$store.state.topicOrUser":function(t,e){return t}}}),r=i,c=(s("556c"),s("2877")),o=Object(c["a"])(r,n,a,!1,null,"5e69f813",null);e["a"]=o.exports}}]);